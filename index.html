<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>PGN - Portal Oficial</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f4f8;
        margin: 0;
        padding: 0;
    }
    header {
        background-color: #1f2a44;
        color: white;
        text-align: center;
        padding: 20px;
    }
    main {
        padding: 20px;
    }
    .bienvenida {
        display: none;
        background-color: #3498db;
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
    }
    .login {
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0px 4px 6px rgba(0,0,0,0.1);
    }
    input, select, button {
        padding: 10px;
        margin-top: 10px;
        width: 100%;
        border-radius: 5px;
        border: 1px solid #ccc;
    }
    button {
        background-color: #1f2a44;
        color: white;
        border: none;
        cursor: pointer;
    }
    button:hover {
        background-color: #34495e;
    }
    .categoria {
        background-color: white;
        border-radius: 10px;
        margin-bottom: 10px;
        box-shadow: 0px 4px 6px rgba(0,0,0,0.1);
    }
    .categoria-header {
        padding: 15px;
        cursor: pointer;
        font-weight: bold;
        background-color: #2c3e50;
        color: white;
        border-radius: 10px 10px 0 0;
    }
    .categoria-body {
        display: none;
        padding: 15px;
    }
    .categoria-body button {
        width: auto;
        margin: 5px 5px 5px 0;
    }
</style>
</head>
<body>

<header>
    <h1>⚖️ Portal PGN</h1>
    <p>Procuraduría General de la Nación - Panamá</p>
</header>

<main>

    <!-- Login -->
    <div class="login">
        <h2>Iniciar sesión / Registrarse</h2>
        <input type="email" id="email" placeholder="Correo electrónico">
        <input type="text" id="discordUser" placeholder="Usuario de Discord">
        <select id="rolSeleccion">
            <option value="ciudadano">Ciudadano</option>
            <option value="fiscal">Fiscal</option>
            <option value="procurador">Procurador</option>
            <option value="keycard">Administración Web</option>
        </select>
        <button onclick="registrarUsuario()">Registrar / Iniciar sesión</button>
    </div>

    <!-- Mensaje de bienvenida -->
    <div class="bienvenida" id="bienvenida"></div>

    <!-- Categorías -->
    <div id="categorias">

        <!-- Información -->
        <div class="categoria">
            <div class="categoria-header">Categoría - Información</div>
            <div class="categoria-body">
                <button>¿Qué somos?</button>
                <button>Función</button>
                <button>Rango</button>
                <button>Código Penal</button>
                <button>Constitución</button>
            </div>
        </div>

        <!-- Procuraduría General de la Nación -->
        <div class="categoria" data-role="ciudadano,fiscal,procurador,keycard">
            <div class="categoria-header">Categoría - Procuraduría General de la Nación</div>
            <div class="categoria-body">
                <button>Denuncia</button>
                <button>Asistencia Fiscal</button>
                <button>Queja contra funcionario</button>
                <button>Seguimiento de Caso</button>
            </div>
        </div>

        <!-- Procuraduría de la Administración -->
        <div class="categoria" data-role="ciudadano,fiscal,procurador,keycard">
            <div class="categoria-header">Categoría - Procuraduría de la Administración</div>
            <div class="categoria-body">
                <button>Denuncia administrativa</button>
                <button>Apelar sanción administrativa</button>
                <button>Asesoría legal</button>
                <button>Asistencia administrativa</button>
                <button>Denuncia inconstitucional</button>
            </div>
        </div>

        <!-- Personal -->
        <div class="categoria" data-role="fiscal,procurador,keycard">
            <div class="categoria-header">Categoría - Personal (solo Ministerio Público)</div>
            <div class="categoria-body">
                <button>Anuncios</button>
                <button>Ascensos</button>
                <button>Descensos</button>
                <button>Sanciones</button>
                <button>Canal de chat</button>
            </div>
        </div>

        <!-- Archivado -->
        <div class="categoria" data-role="fiscal,procurador,keycard">
            <div class="categoria-header">Categoría - Archivado</div>
            <div class="categoria-body">
                <button>Casos</button>
                <button>Investigaciones</button>
                <button>Boletín</button>
            </div>
        </div>

        <!-- Administración -->
        <div class="categoria" data-role="keycard">
            <div class="categoria-header">Categoría - Administración</div>
            <div class="categoria-body">
                <button>Roles</button>
                <button>Administrar opciones</button>
                <button>Subir logo PGN</button>
            </div>
        </div>

    </div>

</main>

<script>
let rolUsuario = "";

function registrarUsuario() {
    const email = document.getElementById("email").value;
    const discord = document.getElementById("discordUser").value;
    rolUsuario = document.getElementById("rolSeleccion").value;

    if(!email || !discord) {
        alert("Por favor ingrese correo y usuario de Discord");
        return;
    }

    // Mostrar bienvenida
    const bienvenida = document.getElementById("bienvenida");
    bienvenida.innerText = `Bienvenido ${discord}!`;
    bienvenida.style.display = "block";

    // Mostrar categorías según rol
    const categorias = document.querySelectorAll(".categoria");
    categorias.forEach(cat => {
        const rolesPermitidos = cat.dataset.role ? cat.dataset.role.split(",") : ["ciudadano","fiscal","procurador","keycard"];
        if(!rolesPermitidos.includes(rolUsuario)) {
            cat.style.display = "none";
        } else {
            cat.style.display = "block";
        }
    });
}

// Accordion
const headers = document.querySelectorAll(".categoria-header");
headers.forEach(header => {
    header.addEventListener("click", () => {
        const body = header.nextElementSibling;
        body.style.display = body.style.display === "block" ? "none" : "block";
    });
});
</script>

</body>
</html>
